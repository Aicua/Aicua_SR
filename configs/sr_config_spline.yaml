# Symbolic Regression Configuration - SPLINE VERSION

general:
  niterations: 100
  populations: 20
  population_size: 33
  model_selection: "best"
  verbosity: 1

# Category-specific configurations for SPLINE-based geometry
categories:
  petal_spline:
    features:
      - base_size
      - layer_index
      - petal_index
      - opening_degree
    targets:
      - cp1_x
      - cp1_y
      - cp2_x
      - cp2_y
      - cp3_x
      - cp3_y
      - cp4_x
      - cp4_y
      - cp5_x
      - cp5_y
      - extrude_depth
    operators:
      binary: ["+", "-", "*", "/"]
      unary: ["sqrt", "log", "sin", "cos"]
    constraints:
      maxsize: 20

  bone_rigging_v2:
    features:
      - petal_tip_y
      - petal_base_spread
      - flexibility_factor
      - layer_index
    targets:
      - bone_count
      - bone_start_y
      - bone_end_y
      - bone_segment_length
      - bind_weight
    operators:
      binary: ["+", "-", "*", "/"]
      unary: ["sqrt", "log", "ceil", "floor"]
    constraints:
      maxsize: 15

  bone_rigging_v3:
    features:
      - petal_height
      - petal_width
      - opening_degree
      - layer_index
      - curvature_intensity
    targets:
      - bone_0_y_start
      - bone_0_y_end
      - bone_0_rot_x
      - bone_1_y_start
      - bone_1_y_end
      - bone_1_rot_x
      - bone_2_y_start
      - bone_2_y_end
      - bone_2_rot_x
      - bone_3_y_start
      - bone_3_y_end
      - bone_3_rot_x
    operators:
      binary: ["+", "-", "*", "/"]
      unary: ["sqrt", "log", "sin", "cos"]
    constraints:
      maxsize: 18

  bone_rigging_v4:
    features:
      - petal_height
      - petal_width
      - opening_degree
      - layer_index
      - curvature_intensity
    targets:
      - bone_root_start_x
      - bone_root_start_y
      - bone_root_end_x
      - bone_root_end_y
      - bone_middle_start_x
      - bone_middle_start_y
      - bone_middle_end_x
      - bone_middle_end_y
      - bone_left_start_x
      - bone_left_start_y
      - bone_left_end_x
      - bone_left_end_y
      - bone_right_start_x
      - bone_right_start_y
      - bone_right_end_x
      - bone_right_end_y
    operators:
      binary: ["+", "-", "*", "/"]
      unary: ["sqrt", "log", "sin", "cos"]
    constraints:
      maxsize: 18

  animation_wingflap:
    features:
      - base_size
      - petal_mass
      - wind_speed
      - flexibility
      - layer_index
    targets:
      - frequency
      - amplitude
      - axis_x
      - axis_y
      - axis_z
      - phase_offset
    operators:
      binary: ["+", "-", "*", "/"]
      unary: ["sqrt", "log", "sin", "cos", "exp"]
    constraints:
      maxsize: 18

# Quality thresholds
quality:
  min_r2_score: 0.90
  max_complexity: 20
  validation_split: 0.2

# Physical constraints for generated parameters
constraints:
  tip_y:
    min: 0.1
    max: 10.0
  base_spread:
    min: 0.05
    max: 5.0
  extrude_depth:
    min: 0.001
    max: 0.5
  bone_count:
    min: 2
    max: 8
  frequency:
    min: 1.0
    max: 50.0
  amplitude:
    min: 5.0
    max: 90.0
