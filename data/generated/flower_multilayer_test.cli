# Flower CAD Generation V1
# Approach: MOVE + ROTATE (Cylindrical Positioning)
# Base Size: 2.0
# Layers: 2

2d;

# ====== LAYER 0 (5 petals) ======
# Radius: 8.00, Opening: 0.90, Tilt: 10.00°

# === Petal 0 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_0 = (0 * 360° / 5) = 0.00°
#   Position: radius=8.00 → (x=8.0000, y=0.0000, z=0.0000)
#   Rotation: face_outward = angle + 90° = 90.00°
#   Tilt: cup_shape = 10.0° * (1 - 0.90) = 1.00°

# Geometry (15-CP spline)
obj petal_L0_P0;
spline 0.0000 0.0000 -0.1416 0.0744 -0.2974 0.3720 -0.3965 0.6696 -0.4531 0.9226 -0.3682 1.1606 -0.2266 1.3690 0.0000 1.4880 0.2266 1.3690 0.3682 1.1606 0.4531 0.9226 0.3965 0.6696 0.2974 0.3720 0.1416 0.0744 0.0000 0.0000;
sketch_extrude petal_L0_P0 0.0013;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P0_rig;
add_bone petal_L0_P0_rig bone_base 0.0000 0.0000 0 0.0000 0.6696 0;
add_bone petal_L0_P0_rig bone_mid 0.0000 0.6696 0 0.0000 1.1606 0;
add_bone petal_L0_P0_rig bone_tip 0.0000 1.1606 0 0.0000 1.4880 0;
finalize_bones petal_L0_P0_rig;
bind_armature petal_L0_P0_rig petal_L0_P0;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 8.00 * cos(0.00°)
#   pos_y = layer_radius * sin(angle°) = 8.00 * sin(0.00°)
move petal_L0_P0 8.0000 0.0000 0.0000;
rotate petal_L0_P0 0.00 1.00 90.00;

# === Petal 1 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_1 = (1 * 360° / 5) = 72.00°
#   Position: radius=8.00 → (x=2.4721, y=7.6085, z=0.0000)
#   Rotation: face_outward = angle + 90° = 162.00°
#   Tilt: cup_shape = 10.0° * (1 - 0.90) = 1.00°

# Geometry (15-CP spline)
obj petal_L0_P1;
spline 0.0000 0.0000 -0.1416 0.0744 -0.2974 0.3720 -0.3965 0.6696 -0.4531 0.9226 -0.3682 1.1606 -0.2266 1.3690 0.0000 1.4880 0.2266 1.3690 0.3682 1.1606 0.4531 0.9226 0.3965 0.6696 0.2974 0.3720 0.1416 0.0744 0.0000 0.0000;
sketch_extrude petal_L0_P1 0.0012;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P1_rig;
add_bone petal_L0_P1_rig bone_base 0.0000 0.0000 0 0.0000 0.6696 0;
add_bone petal_L0_P1_rig bone_mid 0.0000 0.6696 0 0.0000 1.1606 0;
add_bone petal_L0_P1_rig bone_tip 0.0000 1.1606 0 0.0000 1.4880 0;
finalize_bones petal_L0_P1_rig;
bind_armature petal_L0_P1_rig petal_L0_P1;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 8.00 * cos(72.00°)
#   pos_y = layer_radius * sin(angle°) = 8.00 * sin(72.00°)
move petal_L0_P1 2.4721 7.6085 0.0000;
rotate petal_L0_P1 0.00 1.00 162.00;

# === Petal 2 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_2 = (2 * 360° / 5) = 144.00°
#   Position: radius=8.00 → (x=-6.4721, y=4.7023, z=0.0000)
#   Rotation: face_outward = angle + 90° = 234.00°
#   Tilt: cup_shape = 10.0° * (1 - 0.90) = 1.00°

# Geometry (15-CP spline)
obj petal_L0_P2;
spline 0.0000 0.0000 -0.1416 0.0744 -0.2974 0.3720 -0.3965 0.6696 -0.4531 0.9226 -0.3682 1.1606 -0.2266 1.3690 0.0000 1.4880 0.2266 1.3690 0.3682 1.1606 0.4531 0.9226 0.3965 0.6696 0.2974 0.3720 0.1416 0.0744 0.0000 0.0000;
sketch_extrude petal_L0_P2 0.0010;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P2_rig;
add_bone petal_L0_P2_rig bone_base 0.0000 0.0000 0 0.0000 0.6696 0;
add_bone petal_L0_P2_rig bone_mid 0.0000 0.6696 0 0.0000 1.1606 0;
add_bone petal_L0_P2_rig bone_tip 0.0000 1.1606 0 0.0000 1.4880 0;
finalize_bones petal_L0_P2_rig;
bind_armature petal_L0_P2_rig petal_L0_P2;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 8.00 * cos(144.00°)
#   pos_y = layer_radius * sin(angle°) = 8.00 * sin(144.00°)
move petal_L0_P2 -6.4721 4.7023 0.0000;
rotate petal_L0_P2 0.00 1.00 234.00;

# === Petal 3 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_3 = (3 * 360° / 5) = 216.00°
#   Position: radius=8.00 → (x=-6.4721, y=-4.7023, z=0.0000)
#   Rotation: face_outward = angle + 90° = 306.00°
#   Tilt: cup_shape = 10.0° * (1 - 0.90) = 1.00°

# Geometry (15-CP spline)
obj petal_L0_P3;
spline 0.0000 0.0000 -0.1416 0.0744 -0.2974 0.3720 -0.3965 0.6696 -0.4531 0.9226 -0.3682 1.1606 -0.2266 1.3690 0.0000 1.4880 0.2266 1.3690 0.3682 1.1606 0.4531 0.9226 0.3965 0.6696 0.2974 0.3720 0.1416 0.0744 0.0000 0.0000;
sketch_extrude petal_L0_P3 0.0015;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P3_rig;
add_bone petal_L0_P3_rig bone_base 0.0000 0.0000 0 0.0000 0.6696 0;
add_bone petal_L0_P3_rig bone_mid 0.0000 0.6696 0 0.0000 1.1606 0;
add_bone petal_L0_P3_rig bone_tip 0.0000 1.1606 0 0.0000 1.4880 0;
finalize_bones petal_L0_P3_rig;
bind_armature petal_L0_P3_rig petal_L0_P3;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 8.00 * cos(216.00°)
#   pos_y = layer_radius * sin(angle°) = 8.00 * sin(216.00°)
move petal_L0_P3 -6.4721 -4.7023 0.0000;
rotate petal_L0_P3 0.00 1.00 306.00;

# === Petal 4 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_4 = (4 * 360° / 5) = 288.00°
#   Position: radius=8.00 → (x=2.4721, y=-7.6085, z=0.0000)
#   Rotation: face_outward = angle + 90° = 378.00°
#   Tilt: cup_shape = 10.0° * (1 - 0.90) = 1.00°

# Geometry (15-CP spline)
obj petal_L0_P4;
spline 0.0000 0.0000 -0.1416 0.0744 -0.2974 0.3720 -0.3965 0.6696 -0.4531 0.9226 -0.3682 1.1606 -0.2266 1.3690 0.0000 1.4880 0.2266 1.3690 0.3682 1.1606 0.4531 0.9226 0.3965 0.6696 0.2974 0.3720 0.1416 0.0744 0.0000 0.0000;
sketch_extrude petal_L0_P4 0.0014;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P4_rig;
add_bone petal_L0_P4_rig bone_base 0.0000 0.0000 0 0.0000 0.6696 0;
add_bone petal_L0_P4_rig bone_mid 0.0000 0.6696 0 0.0000 1.1606 0;
add_bone petal_L0_P4_rig bone_tip 0.0000 1.1606 0 0.0000 1.4880 0;
finalize_bones petal_L0_P4_rig;
bind_armature petal_L0_P4_rig petal_L0_P4;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 8.00 * cos(288.00°)
#   pos_y = layer_radius * sin(angle°) = 8.00 * sin(288.00°)
move petal_L0_P4 2.4721 -7.6085 0.0000;
rotate petal_L0_P4 0.00 1.00 378.00;

# ====== LAYER 1 (8 petals) ======
# Radius: 5.00, Opening: 0.70, Tilt: 20.00°

# === Petal 0 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_0 = (0 * 360° / 8) = 0.00°
#   Position: radius=5.00 → (x=5.0000, y=0.0000, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 90.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P0;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P0 0.0014;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P0_rig;
add_bone petal_L1_P0_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P0_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P0_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P0_rig;
bind_armature petal_L1_P0_rig petal_L1_P0;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(0.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(0.00°)
move petal_L1_P0 5.0000 0.0000 -0.5000;
rotate petal_L1_P0 0.00 6.00 90.00;

# === Petal 1 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_1 = (1 * 360° / 8) = 45.00°
#   Position: radius=5.00 → (x=3.5355, y=3.5355, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 135.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P1;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P1 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P1_rig;
add_bone petal_L1_P1_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P1_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P1_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P1_rig;
bind_armature petal_L1_P1_rig petal_L1_P1;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(45.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(45.00°)
move petal_L1_P1 3.5355 3.5355 -0.5000;
rotate petal_L1_P1 0.00 6.00 135.00;

# === Petal 2 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_2 = (2 * 360° / 8) = 90.00°
#   Position: radius=5.00 → (x=0.0000, y=5.0000, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 180.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P2;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P2 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P2_rig;
add_bone petal_L1_P2_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P2_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P2_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P2_rig;
bind_armature petal_L1_P2_rig petal_L1_P2;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(90.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(90.00°)
move petal_L1_P2 0.0000 5.0000 -0.5000;
rotate petal_L1_P2 0.00 6.00 180.00;

# === Petal 3 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_3 = (3 * 360° / 8) = 135.00°
#   Position: radius=5.00 → (x=-3.5355, y=3.5355, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 225.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P3;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P3 0.0012;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P3_rig;
add_bone petal_L1_P3_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P3_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P3_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P3_rig;
bind_armature petal_L1_P3_rig petal_L1_P3;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(135.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(135.00°)
move petal_L1_P3 -3.5355 3.5355 -0.5000;
rotate petal_L1_P3 0.00 6.00 225.00;

# === Petal 4 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_4 = (4 * 360° / 8) = 180.00°
#   Position: radius=5.00 → (x=-5.0000, y=0.0000, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 270.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P4;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P4 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P4_rig;
add_bone petal_L1_P4_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P4_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P4_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P4_rig;
bind_armature petal_L1_P4_rig petal_L1_P4;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(180.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(180.00°)
move petal_L1_P4 -5.0000 0.0000 -0.5000;
rotate petal_L1_P4 0.00 6.00 270.00;

# === Petal 5 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_5 = (5 * 360° / 8) = 225.00°
#   Position: radius=5.00 → (x=-3.5355, y=-3.5355, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 315.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P5;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P5 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P5_rig;
add_bone petal_L1_P5_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P5_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P5_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P5_rig;
bind_armature petal_L1_P5_rig petal_L1_P5;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(225.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(225.00°)
move petal_L1_P5 -3.5355 -3.5355 -0.5000;
rotate petal_L1_P5 0.00 6.00 315.00;

# === Petal 6 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_6 = (6 * 360° / 8) = 270.00°
#   Position: radius=5.00 → (x=-0.0000, y=-5.0000, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 360.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P6;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P6 0.0012;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P6_rig;
add_bone petal_L1_P6_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P6_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P6_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P6_rig;
bind_armature petal_L1_P6_rig petal_L1_P6;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(270.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(270.00°)
move petal_L1_P6 -0.0000 -5.0000 -0.5000;
rotate petal_L1_P6 0.00 6.00 360.00;

# === Petal 7 (Layer 1) ===

# CoT Positioning Reasoning:
#   Target: Arrange 8 petals in circular pattern
#   Angle: petal_7 = (7 * 360° / 8) = 315.00°
#   Position: radius=5.00 → (x=3.5355, y=-3.5355, z=-0.5000)
#   Rotation: face_outward = angle + 90° = 405.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry (15-CP spline)
obj petal_L1_P7;
spline 0.0000 0.0000 -0.1539 0.0891 -0.3232 0.4455 -0.4309 0.8019 -0.4925 1.1048 -0.4001 1.3900 -0.2462 1.6394 0.0280 1.7820 0.2462 1.6394 0.4001 1.3900 0.4925 1.1048 0.4309 0.8019 0.3232 0.4455 0.1539 0.0891 0.0000 0.0000;
sketch_extrude petal_L1_P7 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L1_P7_rig;
add_bone petal_L1_P7_rig bone_base 0.0000 0.0000 0 0.0000 0.8019 0;
add_bone petal_L1_P7_rig bone_mid 0.0000 0.8019 0 0.0000 1.3900 0;
add_bone petal_L1_P7_rig bone_tip 0.0000 1.3900 0 0.0000 1.7820 0;
finalize_bones petal_L1_P7_rig;
bind_armature petal_L1_P7_rig petal_L1_P7;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(315.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(315.00°)
move petal_L1_P7 3.5355 -3.5355 -0.5000;
rotate petal_L1_P7 0.00 6.00 405.00;

exit;

# Total petals: 13
# Total bones: 65 (5 per petal)