# Flower CAD Generation V1
# Approach: MOVE + ROTATE (Cylindrical Positioning)
# Base Size: 2.0
# Layers: 1

2d;

# ====== LAYER 0 (5 petals) ======
# Radius: 5.00, Opening: 0.80, Tilt: 15.00°

# === Petal 0 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_0 = (0 * 360° / 5) = 0.00°
#   Position: radius=5.00 → (x=5.0000, y=0.0000, z=0.0000)
#   Rotation: face_outward = angle + 90° = 90.00°
#   Tilt: cup_shape = 15.0° * (1 - 0.80) = 3.00°

# Geometry (15-CP spline)
obj petal_L0_P0;
spline 0.0000 0.0000 -0.1392 0.0768 -0.2923 0.3840 -0.3898 0.6912 -0.4454 0.9523 -0.3619 1.1981 -0.2227 1.4131 0.0000 1.5360 0.2227 1.4131 0.3619 1.1981 0.4454 0.9523 0.3898 0.6912 0.2923 0.3840 0.1392 0.0768 0.0000 0.0000;
sketch_extrude petal_L0_P0 0.0012;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P0_rig;
add_bone petal_L0_P0_rig bone_base 0.0000 0.0000 0 0.0000 0.6912 0;
add_bone petal_L0_P0_rig bone_mid 0.0000 0.6912 0 0.0000 1.1981 0;
add_bone petal_L0_P0_rig bone_tip 0.0000 1.1981 0 0.0000 1.5360 0;
finalize_bones petal_L0_P0_rig;
bind_armature petal_L0_P0_rig petal_L0_P0;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(0.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(0.00°)
move petal_L0_P0 5.0000 0.0000 0.0000;
rotate petal_L0_P0 0.00 3.00 90.00;

# === Petal 1 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_1 = (1 * 360° / 5) = 72.00°
#   Position: radius=5.00 → (x=1.5451, y=4.7553, z=0.0000)
#   Rotation: face_outward = angle + 90° = 162.00°
#   Tilt: cup_shape = 15.0° * (1 - 0.80) = 3.00°

# Geometry (15-CP spline)
obj petal_L0_P1;
spline 0.0000 0.0000 -0.1392 0.0768 -0.2923 0.3840 -0.3898 0.6912 -0.4454 0.9523 -0.3619 1.1981 -0.2227 1.4131 0.0000 1.5360 0.2227 1.4131 0.3619 1.1981 0.4454 0.9523 0.3898 0.6912 0.2923 0.3840 0.1392 0.0768 0.0000 0.0000;
sketch_extrude petal_L0_P1 0.0011;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P1_rig;
add_bone petal_L0_P1_rig bone_base 0.0000 0.0000 0 0.0000 0.6912 0;
add_bone petal_L0_P1_rig bone_mid 0.0000 0.6912 0 0.0000 1.1981 0;
add_bone petal_L0_P1_rig bone_tip 0.0000 1.1981 0 0.0000 1.5360 0;
finalize_bones petal_L0_P1_rig;
bind_armature petal_L0_P1_rig petal_L0_P1;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(72.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(72.00°)
move petal_L0_P1 1.5451 4.7553 0.0000;
rotate petal_L0_P1 0.00 3.00 162.00;

# === Petal 2 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_2 = (2 * 360° / 5) = 144.00°
#   Position: radius=5.00 → (x=-4.0451, y=2.9389, z=0.0000)
#   Rotation: face_outward = angle + 90° = 234.00°
#   Tilt: cup_shape = 15.0° * (1 - 0.80) = 3.00°

# Geometry (15-CP spline)
obj petal_L0_P2;
spline 0.0000 0.0000 -0.1392 0.0768 -0.2923 0.3840 -0.3898 0.6912 -0.4454 0.9523 -0.3619 1.1981 -0.2227 1.4131 0.0000 1.5360 0.2227 1.4131 0.3619 1.1981 0.4454 0.9523 0.3898 0.6912 0.2923 0.3840 0.1392 0.0768 0.0000 0.0000;
sketch_extrude petal_L0_P2 0.0015;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P2_rig;
add_bone petal_L0_P2_rig bone_base 0.0000 0.0000 0 0.0000 0.6912 0;
add_bone petal_L0_P2_rig bone_mid 0.0000 0.6912 0 0.0000 1.1981 0;
add_bone petal_L0_P2_rig bone_tip 0.0000 1.1981 0 0.0000 1.5360 0;
finalize_bones petal_L0_P2_rig;
bind_armature petal_L0_P2_rig petal_L0_P2;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(144.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(144.00°)
move petal_L0_P2 -4.0451 2.9389 0.0000;
rotate petal_L0_P2 0.00 3.00 234.00;

# === Petal 3 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_3 = (3 * 360° / 5) = 216.00°
#   Position: radius=5.00 → (x=-4.0451, y=-2.9389, z=0.0000)
#   Rotation: face_outward = angle + 90° = 306.00°
#   Tilt: cup_shape = 15.0° * (1 - 0.80) = 3.00°

# Geometry (15-CP spline)
obj petal_L0_P3;
spline 0.0000 0.0000 -0.1392 0.0768 -0.2923 0.3840 -0.3898 0.6912 -0.4454 0.9523 -0.3619 1.1981 -0.2227 1.4131 0.0000 1.5360 0.2227 1.4131 0.3619 1.1981 0.4454 0.9523 0.3898 0.6912 0.2923 0.3840 0.1392 0.0768 0.0000 0.0000;
sketch_extrude petal_L0_P3 0.0012;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P3_rig;
add_bone petal_L0_P3_rig bone_base 0.0000 0.0000 0 0.0000 0.6912 0;
add_bone petal_L0_P3_rig bone_mid 0.0000 0.6912 0 0.0000 1.1981 0;
add_bone petal_L0_P3_rig bone_tip 0.0000 1.1981 0 0.0000 1.5360 0;
finalize_bones petal_L0_P3_rig;
bind_armature petal_L0_P3_rig petal_L0_P3;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(216.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(216.00°)
move petal_L0_P3 -4.0451 -2.9389 0.0000;
rotate petal_L0_P3 0.00 3.00 306.00;

# === Petal 4 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_4 = (4 * 360° / 5) = 288.00°
#   Position: radius=5.00 → (x=1.5451, y=-4.7553, z=0.0000)
#   Rotation: face_outward = angle + 90° = 378.00°
#   Tilt: cup_shape = 15.0° * (1 - 0.80) = 3.00°

# Geometry (15-CP spline)
obj petal_L0_P4;
spline 0.0000 0.0000 -0.1392 0.0768 -0.2923 0.3840 -0.3898 0.6912 -0.4454 0.9523 -0.3619 1.1981 -0.2227 1.4131 0.0000 1.5360 0.2227 1.4131 0.3619 1.1981 0.4454 0.9523 0.3898 0.6912 0.2923 0.3840 0.1392 0.0768 0.0000 0.0000;
sketch_extrude petal_L0_P4 0.0013;

# Rigging (v7 - 3 bones vertical spine)
create_armature petal_L0_P4_rig;
add_bone petal_L0_P4_rig bone_base 0.0000 0.0000 0 0.0000 0.6912 0;
add_bone petal_L0_P4_rig bone_mid 0.0000 0.6912 0 0.0000 1.1981 0;
add_bone petal_L0_P4_rig bone_tip 0.0000 1.1981 0 0.0000 1.5360 0;
finalize_bones petal_L0_P4_rig;
bind_armature petal_L0_P4_rig petal_L0_P4;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 5.00 * cos(288.00°)
#   pos_y = layer_radius * sin(angle°) = 5.00 * sin(288.00°)
move petal_L0_P4 1.5451 -4.7553 0.0000;
rotate petal_L0_P4 0.00 3.00 378.00;

exit;

# Total petals: 5
# Total bones: 25 (5 per petal)