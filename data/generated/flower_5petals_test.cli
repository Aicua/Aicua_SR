# Flower CAD Generation V1
# Approach: MOVE + ROTATE (Cylindrical Positioning)
# Base Size: 2.0
# Layers: 1

2d;

# ====== LAYER 0 (5 petals) ======
# Radius: 6.00, Opening: 0.70, Tilt: 20.00°

# === Petal 0 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_0 = (0 * 360° / 5) = 0.00°
#   Position: radius=6.00 → (x=6.0000, y=0.0000, z=0.0000)
#   Rotation: face_outward = angle + 90° = 90.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry
obj petal_L0_P0;
bezier_surface petal_L0_P0 1.5840 1.0944 0.5800 0.0000 0.020000;

# Rigging (v7 - T-shape 5 bones)
create_armature petal_L0_P0_rig;
add_bone petal_L0_P0_rig bone_base 0.0000 0.0000 0 0.0000 0.7128 0;
add_bone petal_L0_P0_rig bone_mid 0.0000 0.7128 0 0.0000 1.2355 0;
add_bone petal_L0_P0_rig bone_tip 0.0000 1.2355 0 0.0000 1.5840 0;
add_bone petal_L0_P0_rig bone_left 0.0000 0.9821 0 -0.4378 0.9821 0;
add_bone petal_L0_P0_rig bone_right 0.0000 0.9821 0 0.4378 0.9821 0;
finalize_bones petal_L0_P0_rig;
bind_armature petal_L0_P0_rig petal_L0_P0;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 6.00 * cos(0.00°)
#   pos_y = layer_radius * sin(angle°) = 6.00 * sin(0.00°)
move petal_L0_P0 6.0000 0.0000 0.0000;
rotate petal_L0_P0 0.00 6.00 90.00;

# === Petal 1 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_1 = (1 * 360° / 5) = 72.00°
#   Position: radius=6.00 → (x=1.8541, y=5.7063, z=0.0000)
#   Rotation: face_outward = angle + 90° = 162.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry
obj petal_L0_P1;
bezier_surface petal_L0_P1 1.5840 1.0944 0.5800 0.0000 0.020000;

# Rigging (v7 - T-shape 5 bones)
create_armature petal_L0_P1_rig;
add_bone petal_L0_P1_rig bone_base 0.0000 0.0000 0 0.0000 0.7128 0;
add_bone petal_L0_P1_rig bone_mid 0.0000 0.7128 0 0.0000 1.2355 0;
add_bone petal_L0_P1_rig bone_tip 0.0000 1.2355 0 0.0000 1.5840 0;
add_bone petal_L0_P1_rig bone_left 0.0000 0.9821 0 -0.4378 0.9821 0;
add_bone petal_L0_P1_rig bone_right 0.0000 0.9821 0 0.4378 0.9821 0;
finalize_bones petal_L0_P1_rig;
bind_armature petal_L0_P1_rig petal_L0_P1;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 6.00 * cos(72.00°)
#   pos_y = layer_radius * sin(angle°) = 6.00 * sin(72.00°)
move petal_L0_P1 1.8541 5.7063 0.0000;
rotate petal_L0_P1 0.00 6.00 162.00;

# === Petal 2 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_2 = (2 * 360° / 5) = 144.00°
#   Position: radius=6.00 → (x=-4.8541, y=3.5267, z=0.0000)
#   Rotation: face_outward = angle + 90° = 234.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry
obj petal_L0_P2;
bezier_surface petal_L0_P2 1.5840 1.0944 0.5800 0.0000 0.020000;

# Rigging (v7 - T-shape 5 bones)
create_armature petal_L0_P2_rig;
add_bone petal_L0_P2_rig bone_base 0.0000 0.0000 0 0.0000 0.7128 0;
add_bone petal_L0_P2_rig bone_mid 0.0000 0.7128 0 0.0000 1.2355 0;
add_bone petal_L0_P2_rig bone_tip 0.0000 1.2355 0 0.0000 1.5840 0;
add_bone petal_L0_P2_rig bone_left 0.0000 0.9821 0 -0.4378 0.9821 0;
add_bone petal_L0_P2_rig bone_right 0.0000 0.9821 0 0.4378 0.9821 0;
finalize_bones petal_L0_P2_rig;
bind_armature petal_L0_P2_rig petal_L0_P2;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 6.00 * cos(144.00°)
#   pos_y = layer_radius * sin(angle°) = 6.00 * sin(144.00°)
move petal_L0_P2 -4.8541 3.5267 0.0000;
rotate petal_L0_P2 0.00 6.00 234.00;

# === Petal 3 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_3 = (3 * 360° / 5) = 216.00°
#   Position: radius=6.00 → (x=-4.8541, y=-3.5267, z=0.0000)
#   Rotation: face_outward = angle + 90° = 306.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry
obj petal_L0_P3;
bezier_surface petal_L0_P3 1.5840 1.0944 0.5800 0.0000 0.020000;

# Rigging (v7 - T-shape 5 bones)
create_armature petal_L0_P3_rig;
add_bone petal_L0_P3_rig bone_base 0.0000 0.0000 0 0.0000 0.7128 0;
add_bone petal_L0_P3_rig bone_mid 0.0000 0.7128 0 0.0000 1.2355 0;
add_bone petal_L0_P3_rig bone_tip 0.0000 1.2355 0 0.0000 1.5840 0;
add_bone petal_L0_P3_rig bone_left 0.0000 0.9821 0 -0.4378 0.9821 0;
add_bone petal_L0_P3_rig bone_right 0.0000 0.9821 0 0.4378 0.9821 0;
finalize_bones petal_L0_P3_rig;
bind_armature petal_L0_P3_rig petal_L0_P3;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 6.00 * cos(216.00°)
#   pos_y = layer_radius * sin(angle°) = 6.00 * sin(216.00°)
move petal_L0_P3 -4.8541 -3.5267 0.0000;
rotate petal_L0_P3 0.00 6.00 306.00;

# === Petal 4 (Layer 0) ===

# CoT Positioning Reasoning:
#   Target: Arrange 5 petals in circular pattern
#   Angle: petal_4 = (4 * 360° / 5) = 288.00°
#   Position: radius=6.00 → (x=1.8541, y=-5.7063, z=0.0000)
#   Rotation: face_outward = angle + 90° = 378.00°
#   Tilt: cup_shape = 20.0° * (1 - 0.70) = 6.00°

# Geometry
obj petal_L0_P4;
bezier_surface petal_L0_P4 1.5840 1.0944 0.5800 0.0000 0.020000;

# Rigging (v7 - T-shape 5 bones)
create_armature petal_L0_P4_rig;
add_bone petal_L0_P4_rig bone_base 0.0000 0.0000 0 0.0000 0.7128 0;
add_bone petal_L0_P4_rig bone_mid 0.0000 0.7128 0 0.0000 1.2355 0;
add_bone petal_L0_P4_rig bone_tip 0.0000 1.2355 0 0.0000 1.5840 0;
add_bone petal_L0_P4_rig bone_left 0.0000 0.9821 0 -0.4378 0.9821 0;
add_bone petal_L0_P4_rig bone_right 0.0000 0.9821 0 0.4378 0.9821 0;
finalize_bones petal_L0_P4_rig;
bind_armature petal_L0_P4_rig petal_L0_P4;

# Positioning (MOVE + ROTATE) - Using SR-discovered formulas
#   pos_x = layer_radius * cos(angle°) = 6.00 * cos(288.00°)
#   pos_y = layer_radius * sin(angle°) = 6.00 * sin(288.00°)
move petal_L0_P4 1.8541 -5.7063 0.0000;
rotate petal_L0_P4 0.00 6.00 378.00;

exit;

# Total petals: 5
# Total bones: 25 (5 per petal)